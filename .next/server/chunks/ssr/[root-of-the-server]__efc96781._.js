module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},23356,a=>{a.v({active:"Timer-module__hiLHka__active",blink:"Timer-module__hiLHka__blink",large:"Timer-module__hiLHka__large",name:"Timer-module__hiLHka__name",progressBar:"Timer-module__hiLHka__progressBar",progressFill:"Timer-module__hiLHka__progressFill",pulse:"Timer-module__hiLHka__pulse",small:"Timer-module__hiLHka__small",time:"Timer-module__hiLHka__time",timeUp:"Timer-module__hiLHka__timeUp",timer:"Timer-module__hiLHka__timer"})},86454,a=>{a.v({empty:"ParticipantList-module__22A59q__empty",list:"ParticipantList-module__22A59q__list",participantCard:"ParticipantList-module__22A59q__participantCard",participants:"ParticipantList-module__22A59q__participants",title:"ParticipantList-module__22A59q__title"})},49570,a=>{a.v({activeTimerSection:"page-module__E0kJGG__activeTimerSection",adminLink:"page-module__E0kJGG__adminLink",allParticipants:"page-module__E0kJGG__allParticipants",centerSection:"page-module__E0kJGG__centerSection",footer:"page-module__E0kJGG__footer",fullscreenBtn:"page-module__E0kJGG__fullscreenBtn",fullscreenTimer:"page-module__E0kJGG__fullscreenTimer",header:"page-module__E0kJGG__header",loading:"page-module__E0kJGG__loading",main:"page-module__E0kJGG__main",mainWithSidebar:"page-module__E0kJGG__mainWithSidebar",noSpeaker:"page-module__E0kJGG__noSpeaker",participantCard:"page-module__E0kJGG__participantCard",sidebar:"page-module__E0kJGG__sidebar",subtitle:"page-module__E0kJGG__subtitle",timerContainer:"page-module__E0kJGG__timerContainer",title:"page-module__E0kJGG__title"})},60350,a=>{"use strict";var b=a.i(87924),c=a.i(61855),d=a.i(72131),e=a.i(23356);function f({remainingTime:a,totalTime:c,isActive:f,isRunning:g,participantName:h,participantColor:i="#3498db",size:j="small",showName:k=!0}){let l,[m,n]=(0,d.useState)(a);(0,d.useEffect)(()=>{if(n(a),!f||!g)return;let b=setInterval(()=>{n(a=>Math.max(0,a-1))},1e3);return()=>clearInterval(b)},[a,f,g]);let o=c>0?m/c*100:0,p=()=>o>50?"#2ecc71":o>10?"#f39c12":"#e74c3c",q=m<=10&&m>0&&g,r=[e.default.timer,e.default[j],f?e.default.active:"",q?e.default.blink:""].filter(Boolean).join(" ");return(0,b.jsxs)("div",{className:r,style:{"--timer-color":p(),"--participant-color":i},children:[k&&h&&(0,b.jsx)("div",{className:e.default.name,style:{color:i},children:h}),(0,b.jsx)("div",{className:e.default.time,children:(l=Math.floor(m/60),`${l.toString().padStart(2,"0")}:${(m%60).toString().padStart(2,"0")}`)}),"large"===j&&(0,b.jsx)("div",{className:e.default.progressBar,children:(0,b.jsx)("div",{className:e.default.progressFill,style:{width:`${o}%`,backgroundColor:p()}})}),0===m&&(0,b.jsx)("div",{className:e.default.timeUp,children:"TEMPO ESGOTADO!"})]})}var g=a.i(86454);function h({participants:a,timerState:c,calculateRemainingTime:d}){let e=a.filter(a=>a.id!==c.current_speaker_id);return(0,b.jsxs)("div",{className:g.default.list,children:[(0,b.jsx)("h2",{className:g.default.title,children:"Participantes"}),(0,b.jsxs)("div",{className:g.default.participants,children:[e.map(a=>(0,b.jsx)("div",{className:g.default.participantCard,children:(0,b.jsx)(f,{remainingTime:d(a,c),totalTime:a.total_time,isActive:!1,isRunning:!1,participantName:a.name,participantColor:a.color,size:"small"})},a.id)),0===e.length&&(0,b.jsx)("p",{className:g.default.empty,children:"Nenhum participante em espera"})]})]})}var i=a.i(49570),j=a.i(38246);function k(){let{participants:a,timerState:e,isLoading:g,calculateRemainingTime:k}=(0,c.useDebateTimer)(),[l,m]=(0,d.useState)(!1),n=(0,d.useRef)(null),o=(0,d.useCallback)(()=>{document.fullscreenElement?(document.exitFullscreen(),m(!1)):(n.current?.requestFullscreen(),m(!0))},[]);if(g)return(0,b.jsx)("div",{className:i.default.loading,children:"A carregar..."});let p=a.find(a=>a.id===e.current_speaker_id),q="running"===e.status;return(0,b.jsxs)("main",{className:p?i.default.mainWithSidebar:i.default.main,children:[(0,b.jsxs)("div",{className:i.default.centerSection,children:[(0,b.jsxs)("header",{className:i.default.header,children:[(0,b.jsx)("h1",{className:i.default.title,children:"Cronómetro de Debate"}),(0,b.jsx)("p",{className:i.default.subtitle,children:"running"===e.status?"Em curso":"paused"===e.status?"Pausado":"A aguardar início"})]}),(0,b.jsx)("div",{className:i.default.activeTimerSection,children:p?(0,b.jsxs)("div",{ref:n,className:`${i.default.timerContainer} ${l?i.default.fullscreenTimer:""}`,children:[(0,b.jsx)(f,{remainingTime:k(p,e),totalTime:p.total_time,isActive:!0,isRunning:q,participantName:p.name,participantColor:p.color,size:"large"}),(0,b.jsx)("button",{onClick:o,className:i.default.fullscreenBtn,title:l?"Sair do ecrã inteiro":"Ver em ecrã inteiro",children:l?"⛶ Sair":"⛶ Ecrã Inteiro"})]}):(0,b.jsxs)("div",{className:i.default.noSpeaker,children:[(0,b.jsx)("h2",{children:"Nenhum orador selecionado"}),(0,b.jsx)("p",{children:"Aguarde que o moderador inicie o debate"}),(0,b.jsx)("div",{className:i.default.allParticipants,children:a.map(a=>(0,b.jsx)("div",{className:i.default.participantCard,children:(0,b.jsx)(f,{remainingTime:a.remaining_time,totalTime:a.total_time,isActive:!1,isRunning:!1,participantName:a.name,participantColor:a.color,size:"small"})},a.id))})]})}),(0,b.jsx)("footer",{className:i.default.footer,children:(0,b.jsx)(j.default,{href:"/admin",className:i.default.adminLink,children:"Área de Gestão (Moderador)"})})]}),p&&(0,b.jsx)("aside",{className:i.default.sidebar,children:(0,b.jsx)(h,{participants:a,timerState:e,calculateRemainingTime:k})})]})}a.s(["default",()=>k],60350)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__efc96781._.js.map