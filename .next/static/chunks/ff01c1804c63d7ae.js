(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,a,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"warnOnce",{enumerable:!0,get:function(){return t}});let t=e=>{}},98736,e=>{e.v({active:"Timer-module__hiLHka__active",blink:"Timer-module__hiLHka__blink",large:"Timer-module__hiLHka__large",name:"Timer-module__hiLHka__name",progressBar:"Timer-module__hiLHka__progressBar",progressFill:"Timer-module__hiLHka__progressFill",pulse:"Timer-module__hiLHka__pulse",small:"Timer-module__hiLHka__small",time:"Timer-module__hiLHka__time",timeUp:"Timer-module__hiLHka__timeUp",timer:"Timer-module__hiLHka__timer"})},75582,e=>{e.v({empty:"ParticipantList-module__22A59q__empty",list:"ParticipantList-module__22A59q__list",participantCard:"ParticipantList-module__22A59q__participantCard",participants:"ParticipantList-module__22A59q__participants",title:"ParticipantList-module__22A59q__title"})},3011,e=>{e.v({activeTimerSection:"page-module__E0kJGG__activeTimerSection",adminLink:"page-module__E0kJGG__adminLink",allParticipants:"page-module__E0kJGG__allParticipants",centerSection:"page-module__E0kJGG__centerSection",footer:"page-module__E0kJGG__footer",fullscreenBtn:"page-module__E0kJGG__fullscreenBtn",fullscreenTimer:"page-module__E0kJGG__fullscreenTimer",header:"page-module__E0kJGG__header",loading:"page-module__E0kJGG__loading",main:"page-module__E0kJGG__main",mainWithSidebar:"page-module__E0kJGG__mainWithSidebar",noSpeaker:"page-module__E0kJGG__noSpeaker",participantCard:"page-module__E0kJGG__participantCard",sidebar:"page-module__E0kJGG__sidebar",subtitle:"page-module__E0kJGG__subtitle",timerContainer:"page-module__E0kJGG__timerContainer",title:"page-module__E0kJGG__title"})},31713,e=>{"use strict";var a=e.i(43476),i=e.i(2954),t=e.i(71645),l=e.i(98736);function r({remainingTime:e,totalTime:i,isActive:r,isRunning:n,participantName:s,participantColor:d="#3498db",size:c="small",showName:m=!0}){let _,[o,u]=(0,t.useState)(e);(0,t.useEffect)(()=>{if(u(e),!r||!n)return;let a=setInterval(()=>{u(e=>Math.max(0,e-1))},1e3);return()=>clearInterval(a)},[e,r,n]);let p=i>0?o/i*100:0,f=()=>p>50?"#2ecc71":p>10?"#f39c12":"#e74c3c",h=o<=10&&o>0&&n,g=[l.default.timer,l.default[c],r?l.default.active:"",h?l.default.blink:""].filter(Boolean).join(" ");return(0,a.jsxs)("div",{className:g,style:{"--timer-color":f(),"--participant-color":d},children:[m&&s&&(0,a.jsx)("div",{className:l.default.name,style:{color:d},children:s}),(0,a.jsx)("div",{className:l.default.time,children:(_=Math.floor(o/60),`${_.toString().padStart(2,"0")}:${(o%60).toString().padStart(2,"0")}`)}),"large"===c&&(0,a.jsx)("div",{className:l.default.progressBar,children:(0,a.jsx)("div",{className:l.default.progressFill,style:{width:`${p}%`,backgroundColor:f()}})}),0===o&&(0,a.jsx)("div",{className:l.default.timeUp,children:"TEMPO ESGOTADO!"})]})}var n=e.i(75582);function s({participants:e,timerState:i,calculateRemainingTime:t}){let l=e.filter(e=>e.id!==i.current_speaker_id);return(0,a.jsxs)("div",{className:n.default.list,children:[(0,a.jsx)("h2",{className:n.default.title,children:"Participantes"}),(0,a.jsxs)("div",{className:n.default.participants,children:[l.map(e=>(0,a.jsx)("div",{className:n.default.participantCard,children:(0,a.jsx)(r,{remainingTime:t(e,i),totalTime:e.total_time,isActive:!1,isRunning:!1,participantName:e.name,participantColor:e.color,size:"small"})},e.id)),0===l.length&&(0,a.jsx)("p",{className:n.default.empty,children:"Nenhum participante em espera"})]})]})}var d=e.i(3011),c=e.i(22016);function m(){let{participants:e,timerState:l,isLoading:n,calculateRemainingTime:m}=(0,i.useDebateTimer)(),[_,o]=(0,t.useState)(!1),u=(0,t.useRef)(null),p=(0,t.useCallback)(()=>{document.fullscreenElement?(document.exitFullscreen(),o(!1)):(u.current?.requestFullscreen(),o(!0))},[]);if(document.onfullscreenchange=()=>{o(!!document.fullscreenElement)},n)return(0,a.jsx)("div",{className:d.default.loading,children:"A carregar..."});let f=e.find(e=>e.id===l.current_speaker_id),h="running"===l.status;return(0,a.jsxs)("main",{className:f?d.default.mainWithSidebar:d.default.main,children:[(0,a.jsxs)("div",{className:d.default.centerSection,children:[(0,a.jsxs)("header",{className:d.default.header,children:[(0,a.jsx)("h1",{className:d.default.title,children:"Cronómetro de Debate"}),(0,a.jsx)("p",{className:d.default.subtitle,children:"running"===l.status?"Em curso":"paused"===l.status?"Pausado":"A aguardar início"})]}),(0,a.jsx)("div",{className:d.default.activeTimerSection,children:f?(0,a.jsxs)("div",{ref:u,className:`${d.default.timerContainer} ${_?d.default.fullscreenTimer:""}`,children:[(0,a.jsx)(r,{remainingTime:m(f,l),totalTime:f.total_time,isActive:!0,isRunning:h,participantName:f.name,participantColor:f.color,size:"large"}),(0,a.jsx)("button",{onClick:p,className:d.default.fullscreenBtn,title:_?"Sair do ecrã inteiro":"Ver em ecrã inteiro",children:_?"⛶ Sair":"⛶ Ecrã Inteiro"})]}):(0,a.jsxs)("div",{className:d.default.noSpeaker,children:[(0,a.jsx)("h2",{children:"Nenhum orador selecionado"}),(0,a.jsx)("p",{children:"Aguarde que o moderador inicie o debate"}),(0,a.jsx)("div",{className:d.default.allParticipants,children:e.map(e=>(0,a.jsx)("div",{className:d.default.participantCard,children:(0,a.jsx)(r,{remainingTime:e.remaining_time,totalTime:e.total_time,isActive:!1,isRunning:!1,participantName:e.name,participantColor:e.color,size:"small"})},e.id))})]})}),(0,a.jsx)("footer",{className:d.default.footer,children:(0,a.jsx)(c.default,{href:"/admin",className:d.default.adminLink,children:"Área de Gestão (Moderador)"})})]}),f&&(0,a.jsx)("aside",{className:d.default.sidebar,children:(0,a.jsx)(s,{participants:e,timerState:l,calculateRemainingTime:m})})]})}e.s(["default",()=>m],31713)}]);